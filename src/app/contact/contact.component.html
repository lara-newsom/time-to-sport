<app-two-panel-layout
  ariaLabel="Contact Us Form"
  ariaLiveSetting="assertive"
>
  <img
    left-wrapper
    ngSrc="../../assets/images/contact.jpg"
    alt=""
    width="463"
    height="695"
    priority
  />
  <div right-wrapper>
    <ng-container *ngIf="!submitted; else formSubmitted">
      <div class="form-wrapper">
        <h3>We'd Love to Hear from You</h3>
        <p>Please fill out the form below to let us know how we can help.</p>
        <fieldset>
          <form #contactForm="ngForm">
            <div class="form-group">
              <label for="name">Full name</label>
              <input
                type="text"
                id="name"
                [(ngModel)]="model.fullName"
                name="full_name"
                value=""
                required
                #full_name="ngModel"
              />
              <ng-container *ngIf="full_name.touched && full_name.invalid">
                <div class="alert alert-danger">Name is required</div>
              </ng-container>
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input
                type="email"
                id="email"
                name="email_address"
                [(ngModel)]="model.email"
                value=""
                required
                #email_address="ngModel"
              />
              <ng-container *ngIf="email_address.touched && email_address.invalid">
                <div class="alert alert-danger">Email is required</div>
              </ng-container>
            </div>
  
            <div class="form-group">
              <label for="phone">Phone</label>
              <input
                type="tel"
                id="phone"
                name="phone_number"
                [(ngModel)]="model.phone"
                value=""
              />
            </div>
  
            <div class="form-group">
              <label for="comment">Comment</label>
              <textarea
                id="comment"
                name="text_comment"
                [(ngModel)]="model.comment"
                required
                #text_comment="ngModel"
              ></textarea>
              <ng-container *ngIf="text_comment.touched && text_comment.invalid">
                <div class="alert alert-danger">Comment is required</div>
              </ng-container>
            </div>
  
            <button
              customBorderButton
              [disabled]="contactForm.invalid"
              type="submit"
              name="submit"
              (click)="submitForm(model)"
            >
              Submit
            </button>
          </form>
        </fieldset>
      </div>
    </ng-container>
    <ng-template #formSubmitted>
      <ng-container *ngIf="loading; else loaded">
        <div class="form-wrapper-spinner">
          <mat-spinner aria-label="Email Sending"></mat-spinner>
          <h3>Your message is being sent...</h3>
        </div>
      </ng-container>
      <ng-template #loaded>
        <div class="form-wrapper">
          <h3>Thank You for Your Message</h3>
          <p>It may take up to 24 hours for someone to respond.</p>
          <button customBorderButton (click)="clearForm()">Send Another</button>
        </div>
      </ng-template>
    </ng-template>
  </div>
</app-two-panel-layout>
