<div class="category-wrapper">
  <table>
    <caption>
      <h3>All Available Products for {{ BUSINESS_NAME }}</h3>
    </caption>
    <thead>
      <tr>
        <ng-container *ngIf="sortColumnProperty$ | async as sortColumnProperty">
          <th>Select</th>
          <th class="optional-col">Product Image</th>
          <th (click)="sortColumn('title')">
            Product Name
            <span
              [class.rotated-arrow-icon]="sortColumnProperty === 'title'"
              class="arrow-icon"
            ></span>
          </th>
          <th
            class="optional-col"
            (click)="sortColumn('description')"
          >
            Description
            <span
              [class.rotated-arrow-icon]="sortColumnProperty === 'description'"
              class="arrow-icon"
            ></span>
          </th>
          <th
            class="optional-col"
            (click)="sortColumn('category')">
            Category
            <span
              [class.rotated-arrow-icon]="sortColumnProperty === 'category'"
              class="arrow-icon"
            ></span>
          </th>
          <th (click)="sortColumn('price')">
            Price
            <span
              [class.rotated-arrow-icon]="sortColumnProperty === 'price'"
              class="arrow-icon"
            ></span>
          </th>
        </ng-container>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let product of products | async"
      >
        <td class="button-col">
          <app-add-to-cart-button
          [productId]="product.id"
          [numberOnly]=true></app-add-to-cart-button>
        </td>
        <td class="optional-col">
          <img
            [src]="product.thumb"
            alt=""
          />
        </td>
        <td>
          {{ product.title }}
        </td>
        <td class="optional-col">{{product.description}}</td>
        <td
          class="optional-col"
        >
        {{product.category | uppercase}}</td>
        <td>{{product.price | currency }}</td>
      </tr>
    </tbody>
  </table>
</div>

